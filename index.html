<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smart-Trade EA - Mentor Portal</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="authContainer">
    <!-- Login/Signup Auth Section -->
    <div id="authBox" class="auth-box">
      <div id="authTabs">
        <button id="loginTab" class="active" onclick="showAuthTab('login')">Login</button>
        <button id="signupTab" onclick="showAuthTab('signup')">Sign Up</button>
      </div>
      <!-- Login Form -->
      <form id="loginForm" class="auth-form" onsubmit="return login(event)">
        <h2>Login</h2>
        <input type="email" id="loginEmail" placeholder="Email" required>
        <input type="password" id="loginPassword" placeholder="Password" required>
        <button class="btn" type="submit">Login</button>
      </form>
      <!-- Signup Form -->
      <form id="signupForm" class="auth-form" style="display:none" onsubmit="return signup(event)">
        <h2>Sign Up</h2>
        <input type="text" id="signupName" placeholder="Full Name" required>
        <input type="email" id="signupEmail" placeholder="Email" required>
        <input type="password" id="signupPassword" placeholder="Password" required>
        <button class="btn" type="submit">Sign Up</button>
      </form>
    </div>
  </div>

  <div id="dashboardContainer" style="display:none;">
    <div class="top-bar">
      <div class="menu-toggle" onclick="toggleSidebar()">&#9776;</div>
      <div class="profile-icon" id="profileIcon" onclick="toggleProfile()"></div>
      <div class="profile-dropdown" id="profileDropdown"></div>
    </div>
    <div class="sidebar" id="sidebar">
      <a href="#" onclick="showSection('createEA')">Create EA</a>
      <a href="#" onclick="showSection('purchaseKeys')">Purchase Additional Keys</a>
      <a href="#" onclick="showSection('keyStats')">View Key Stats</a>
    </div>
    <div class="main-grid">
      <div class="dashboard-block" id="welcomeBox">
        <h2 id="dashboardWelcome"></h2>
        <p id="dateTime"></p>
      </div>

      <div id="createEA" class="form-section" style="display:none">
        <h3>Create New EA</h3>
        <label>EA Name</label>
        <input type="text" id="eaName" />
        <label>EA Logo (display only in app)</label>
        <input type="file" id="eaLogo" accept="image/*" />
        <button class="btn" onclick="generateEA()">Generate EA & Download MT5 Hosting File (.mq5)</button>
      </div>

      <div id="createKey" class="form-section" style="display:none">
        <h3>Create License Key</h3>
        <label>User Name</label>
        <input type="text" id="userName" placeholder="User full name" />

        <label>User Email</label>
        <input type="email" id="userEmail" placeholder="user@example.com" />

        <label>Expiry</label>
        <select id="keyExpiry">
          <option value="3d">3 Days</option>
          <option value="1m">1 Month</option>
          <option value="2m">2 Months</option>
          <option value="6m">6 Months</option>
          <option value="1y">1 Year</option>
        </select>

        <button class="btn" onclick="generateKey()">Generate Key</button>
        <p id="generatedKey"></p>
      </div>

      <div id="purchaseKeys" class="form-section" style="display:none">
        <h3>Purchase Additional Keys</h3>
        <p>Contact <strong>pmtservices123@gmail.com</strong> to buy more keys.</p>
      </div>

      <div id="keyStats" class="form-section" style="display:none">
        <h3>Key Stats</h3>
        <table id="keyStatsTable">
          <thead>
            <tr>
              <th>License Key</th>
              <th>User Name</th>
              <th>User Email</th>
              <th>Created At</th>
              <th>Expiry</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <!-- Populated by JS -->
          </tbody>
        </table>
      </div>
    </div>
    <!-- Floating Button for Create Key (for easier access) -->
    <button class="floating-btn" onclick="showSection('createKey')" title="Generate New Key">+</button>
  </div>
  <script src="main.js"></script>
</body>
</html>
