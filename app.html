<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>PMT TRADING SOLUTIONS</title>
  <meta name="description" content="Empowering traders. Price Action, lessons, quizzes, strategies, calculators, live data, and more.">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Segoe+UI:400,700&display=swap">
  <style>
    :root { --pmt-green: #22c55e; --pmt-black: #111827; --pmt-blue: #2563eb; --pmt-red: #e84118; --pmt-white: #fff; }
    body { margin:0; font-family: 'Segoe UI', Arial, sans-serif; background:var(--pmt-black); color:var(--pmt-white);}
    #bg-logo {
      position:fixed;
      top:0; left:0; width:100vw; height:100vh;
      background:url('image11') center center/38vw no-repeat;
      opacity:0.07;
      z-index:0;
      pointer-events:none;
    }
    #content-wrap { position:relative; z-index:1; }
    header { background: var(--pmt-blue); color:#fff; padding:18px 22px 8px 22px; display:flex; flex-wrap:wrap; align-items:center; justify-content:space-between; }
    .branding {font-size:1.5em; font-weight:700; letter-spacing:0.03em;}
    .memberid {font-size:1em; color:var(--pmt-green);}
    .owner {font-size:0.95em; color:var(--pmt-white);}
    nav { display:flex; gap:7px; flex-wrap:wrap; margin-top:8px;}
    nav button {background:var(--pmt-white);color:var(--pmt-black);border:none;border-radius:7px;padding:7px 15px;font-weight:600;cursor:pointer;transition:background .13s, color .13s;}
    nav button.active, nav button:focus, nav button:hover {background:var(--pmt-green);color:var(--pmt-white);}
    .logout-btn {background:var(--pmt-red);color:#fff;margin-left:15px;}
    main {max-width:1100px;margin:0 auto;padding:24px 2vw 14px 2vw; min-height:70vh;}
    h1 {color:var(--pmt-green);}
    .quotes-box {background:#222e38;color:var(--pmt-green);border-left:5px solid var(--pmt-green);padding:16px;margin:18px 0 30px 0;border-radius:0 17px 17px 0;font-size:1.1em;}
    .section {display:none;}
    .section.active {display:block;}
    .card {background:#1a2232;border-radius:10px;padding:18px 15px;margin-bottom:16px;box-shadow:0 2px 16px #101a2b;}
    .lesson-title, .strategy-title {font-size:1.22em;font-weight:700;color:var(--pmt-blue);}
    .lesson-summary, .strategy-summary {color:#4ade80;margin-bottom:7px;}
    .lesson-img, .strategy-img {width:105px;border-radius:9px;margin:0 13px 0 0;vertical-align:middle;}
    .bookmark-btn {background:#fff;border:2px solid var(--pmt-blue);color:var(--pmt-blue);border-radius:7px;padding:3px 14px;font-weight:700;float:right;cursor:pointer;}
    .bookmark-btn.favorited {background:var(--pmt-red);color:#fff;border-color:var(--pmt-red);}
    .quiz-btn {background:var(--pmt-green);}
    .quiz-btn:active,.quiz-btn:focus,.quiz-btn:hover {background:var(--pmt-blue);}
    .calc-form label {display:block;margin:7px 0 3px 0;}
    .calc-form input {width:90%;padding:6px;border-radius:5px;border:1.5px solid var(--pmt-green);}
    .calc-form button {background:var(--pmt-blue);color:#fff;border:none;border-radius:6px;padding:8px 15px;margin:9px 0;}
    .calc-result {color:var(--pmt-green);font-weight:bold;}
    .community-list {margin:18px 0;}
    .community-card {background:#232f3f;padding:12px 11px;border-radius:9px;margin-bottom:8px;}
    .faq-q {font-weight:700;color:var(--pmt-blue);}
    .faq-a {margin-bottom:10px;}
    .footer {background:#1a2232;color:#4ade80;text-align:center;font-size:1em;padding:16px 0;letter-spacing:0.02em;border-top:1px solid #333;}
    @media (max-width:700px) {main {padding:10px 2vw;} .card, .community-card {padding:8px 5px;} nav button {padding:6px 8px;}}
  </style>
  <script src="pmt-branding.js"></script>
</head>
<body>
  <div id="bg-logo"></div>
  <div id="content-wrap">
  <header>
    <div>
      <span class="branding" id="branding"></span>
      <div class="owner" id="owner"></div>
    </div>
    <div>
      <span class="memberid" id="memberid"></span>
      <button class="logout-btn" onclick="logout()">Logout</button>
    </div>
    <nav id="main-nav" aria-label="Main Navigation">
      <button class="active" data-tab="dashboard">Dashboard</button>
      <button data-tab="lessons">Lessons</button>
      <button data-tab="insights">Insights</button>
      <button data-tab="strategies">Strategies</button>
      <button data-tab="quizzes">Quizzes</button>
      <button data-tab="calculator">Calculator</button>
      <button data-tab="bookmarks">Bookmarks</button>
      <button data-tab="livedata">Live Data</button>
      <button data-tab="community">Community</button>
      <button data-tab="faq">FAQ</button>
    </nav>
  </header>
  <main id="main-content"></main>
  <footer class="footer">
    &copy; 2025 PMT TRADING SOLUTIONS | Owner: Lil Jee-FX | Email: pmtservices123@gmail.com | Phone: 083 479 7921
  </footer>
  </div>
  <script>
    // --- Recognized Member IDs ---
    const VALID_MEMBER_IDS = [
      "PMT-865-543", "PMT-854-432", "PMT-099-112", "PMT-097-776", "PMT-355-887"
    ];

    // --- User info / branding ---
    document.getElementById("branding").textContent = window.PMT_BRAND.title;
    document.getElementById("owner").textContent = "Owner: " + window.PMT_BRAND.owner;
    let memberId = localStorage.getItem("pmt_member_id") || "";
    let memberEmail = localStorage.getItem("pmt_email") || "";
    if (memberId && VALID_MEMBER_IDS.includes(memberId))
      document.getElementById("memberid").innerHTML = 'Member ID: <b>' + memberId + '</b>';
    else if (memberId && !VALID_MEMBER_IDS.includes(memberId))
      document.getElementById("memberid").innerHTML = '<span style="color:var(--pmt-red);font-weight:bold;">Unrecognized Member ID!</span>';
    else
      document.getElementById("memberid").innerHTML = '<a href="login.html" style="color:#fff;">Login</a>';

    // --- Motivational Quotes ---
    function showQuote() {
      const q = window.PMT_BRAND.motivationalQuotes;
      const pick = q[Math.floor(Math.random()*q.length)];
      return `<div class="quotes-box">${pick}</div>`;
    }

    // --- Expanded Sections Data (20+ per section) ---
    const LESSONS = [
      {id:1, title:"Support & Resistance Zones", summary:"Find the key turning points in any market.",
        img:"https://www.babypips.com/assets/forex-support-and-resistance-1-9c7d302a20e2a5c5f3c8e2e3d3d3c3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d.png", content:`Support and resistance are price levels where reversals or pauses often occur.<br><br>
        <b>Support</b>: Where price bounces up. <b>Resistance</b>: Where price bounces down.<br>
        Draw zones, not lines. Wait for confirmation with candlestick or pattern.<br>
        <ul><li>Look for bounces or rejections</li><li>Combine with trend and structure</li><li>Use for entries and exits</li></ul>`},
      {id:2, title:"Market Structure: HH, HL, LH, LL", summary:"Decode trend with highs and lows.",
        img:"https://www.tradingwithrayner.com/wp-content/uploads/2020/09/market-structure.png", content:`Market structure is the sequence of highs and lows that defines a trend.<br>
        <ul><li>Uptrend: HH, HL</li><li>Downtrend: LH, LL</li></ul>
        <b>Tip:</b> Buy on HL in uptrend, sell on LH in downtrend. Combine with S/R for best results.`},
      {id:3, title:"Candlestick Mastery", summary:"Spot reversals and continuations with candlesticks.",
        img:"https://www.tradingwithrayner.com/wp-content/uploads/2020/09/candlestick-patterns-bullish-engulfing.png", content:`Key candles:<br>
        <ul><li><b>Bullish Engulfing</b>: Strong buy reversal</li><li><b>Bearish Engulfing</b>: Strong sell reversal</li><li><b>Hammer / Pin Bar</b>: Wick rejection, reversal</li></ul>
        Always use with key zones for best results.`},
      {id:4, title:"Order Blocks", summary:"Institutions' footprints on the chart.",
        img:"https://cdn.babypips.com/media/order-blocks.png", content:`Order blocks are price areas where big institutions accumulate orders.<br>
        <ul><li>Usually found before sharp moves</li><li>Mark as zones, not lines</li><li>Combine with S/R & confirmation</li></ul>`},
      {id:5, title:"Liquidity Grabs", summary:"Spot stophunt moves before reversals.",
        img:"https://www.learntotradethemarket.com/wp-content/uploads/2018/12/liquidity-forex.png", content:`A liquidity grab is when price spikes beyond a key level to trigger stops, then reverses.<br>
        <ul><li>Look for fake breakouts</li><li>Wait for rejection to enter</li></ul>`},
      {id:6, title:"Fair Value Gaps (FVG)", summary:"Imbalance areas for sniper entries.",
        img:"https://cdn.tradingview.com/fvg-example.png", content:`FVGs are gaps between candles showing imbalanced price moves.<br>
        <ul><li>Price usually returns to fill FVGs</li><li>Entry on touch + confirmation</li></ul>`},
      {id:7, title:"Break of Structure (BOS)", summary:"Confirm real trend changes.",
        img:"https://tradingwithrayner.com/wp-content/uploads/2020/09/market-structure-break.png", content:`BOS is when price breaks a swing high/low, confirming trend change.<br>
        <ul><li>Wait for candle close</li><li>Combine with volume or S/R</li></ul>`},
      {id:8, title:"Supply & Demand", summary:"Find where banks are buying/selling.",
        img:"https://www.babypips.com/assets/supply-demand-forex-chart.png", content:`Supply zones = selling pressure. Demand zones = buying pressure.<br>
        <ul><li>Draw from consolidation before big move</li><li>Look for reversal signals</li></ul>`},
      {id:9, title:"Trendlines", summary:"Dynamic S/R for entries and exits.",
        img:"https://www.tradingwithrayner.com/wp-content/uploads/2020/09/trendline.png", content:`Draw trendlines connecting swing highs/lows.<br>
        <ul><li>Best with 2+ touches</li><li>Look for breaks or bounces</li></ul>`},
      {id:10, title:"Moving Averages (MA)", summary:"The foundation indicator.",
        img:"https://www.babypips.com/assets/moving-averages-forex-chart.png", content:`MAs smooth price action.<br>
        <ul><li>20 EMA for trend, 200 EMA for bias</li><li>Entries on pullbacks or crossovers</li></ul>`},
      {id:11, title:"Relative Strength Index (RSI)", summary:"Find overbought/oversold areas.",
        img:"https://static.seekingalpha.com/uploads/2021/2/23/RSI.png", content:`RSI shows momentum extremes.<br>
        <ul><li>70+ = overbought, 30- = oversold</li><li>Look for divergence with price</li></ul>`},
      {id:12, title:"MACD Basics", summary:"Catch momentum shifts.",
        img:"https://www.babypips.com/assets/macd-forex-chart.png", content:`MACD = trend & momentum.<br>
        <ul><li>Crosses = entries</li><li>Divergence = strong signal</li></ul>`},
      {id:13, title:"Fibonacci Retracement", summary:"Measure pullbacks and targets.",
        img:"https://cdn.babypips.com/media/fibonacci-retracement.png", content:`Key levels: 38.2%, 50%, 61.8%.<br>
        <ul><li>Entry on confluence with S/R</li></ul>`},
      {id:14, title:"Chart Patterns", summary:"Flags, triangles, head & shoulders.",
        img:"https://www.tradingwithrayner.com/wp-content/uploads/2020/09/chart-patterns.png", content:`Classic patterns often predict breakouts.<br>
        <ul><li>Wait for breakout + retest</li></ul>`},
      {id:15, title:"Smarter Stop Losses", summary:"Protect your trades.",
        img:"https://cdn.babypips.com/media/stop-loss.png", content:`Use ATR or structure, not just fixed pips.<br>
        <ul><li>Always have a stop</li></ul>`},
      {id:16, title:"Risk Management Essentials", summary:"Survive to thrive.",
        img:"https://cdn.tradingview.com/risk-management.png", content:`Never risk more than 1-2% per trade.<br><ul><li>Calculate position size every trade</li></ul>`},
      {id:17, title:"Multiple Time Frame Analysis", summary:"Zoom out for big picture.",
        img:"https://www.tradingwithrayner.com/wp-content/uploads/2020/09/multiple-time-frame-analysis.png", content:`Align bias on higher TF, enter on lower TF.<br><ul><li>Daily+4H for swing, 1H+15m for intraday</li></ul>`},
      {id:18, title:"Volume Analysis", summary:"Spot smart money moves.",
        img:"https://cdn.tradingview.com/volume-analysis.png", content:`Volume + price confirms breakouts and reversals.<br><ul><li>Look for spikes at key levels</li></ul>`},
      {id:19, title:"Psychology & Discipline", summary:"Win your mind.",
        img:"https://cdn.babypips.com/media/trader-psychology.png", content:`Discipline beats strategy. Journal every trade.<br><ul><li>Follow your plan always</li></ul>`},
      {id:20, title:"News & Economic Events", summary:"Never trade blind.",
        img:"https://cdn.babypips.com/media/economic-calendar.png", content:`Check the economic calendar before trading.<br><ul><li>Major news moves the market!</li></ul>`},
      {id:21, title:"ICT Concepts: SMT Divergence", summary:"Learn institutional trading tricks.",
        img:"https://cdn.tradingview.com/ict-smt.png", content:`SMT divergence = major reversal signal when correlated markets disagree.<br>`},
      {id:22, title:"Breakout Trading", summary:"Ride the trend from the start.",
        img:"https://cdn.babypips.com/media/breakout-forex.png", content:`Entry after range breaks, confirm with volume.<br>`},
      {id:23, title:"Reversal Candles", summary:"Pin Bar, Engulf, Morning/Evening Star.",
        img:"https://www.babypips.com/assets/candlestick-patterns-forex.png", content:`Trade reversals at S/R with strong candle signals.<br>`}
      // Add more as needed (23 shown, can expand to 30+)
    ];

    const STRATEGIES = [
      {id:1, title:"Pin Bar + Support Entry", summary:"Catch reversals at major zones.",
        img:"https://tradingwithrayner.com/wp-content/uploads/2020/09/pin-bar.png", content:`Wait for a pin bar at a strong support. Enter above the pin, stop below. Target next resistance.<br>
        <ul><li>Works best on 1H/4H</li><li>Combine with S/R and trend</li></ul>`},
      {id:2, title:"Engulfing Candle with RSI", summary:"Combine price action with indicator for high probability.",
        img:"https://tradingwithrayner.com/wp-content/uploads/2020/09/engulfing.png", content:`Look for bullish engulfing at oversold RSI. Enter after close, stop below low, target 2R.<br>
        <ul><li>Extra confirmation = trendline bounce</li></ul>`},
      {id:3, title:"BOS + FVG Scalper", summary:"Combine structure break with fair value gap.",
        img:"https://cdn.tradingview.com/fvg-bos.png", content:`Wait for BOS, then enter on FVG fill + confirmation candle.<br><ul><li>Tight stop, fast profits</li></ul>`},
      {id:4, title:"Moving Average Pullback", summary:"Ride the trend with MA bounces.",
        img:"https://www.babypips.com/assets/moving-averages-forex-chart.png", content:`Entry on price touch of 20EMA in trending markets.<br><ul><li>Stop loss below last swing</li></ul>`},
      {id:5, title:"Liquidity Sweep Reversal", summary:"Trade the stophunt.",
        img:"https://cdn.babypips.com/media/liquidity-grab.png", content:`Wait for a fakeout above key high/low, then enter on reversal.<br><ul><li>Best with confirmation candle</li></ul>`},
      {id:6, title:"Fibonacci + Structure Confluence", summary:"Stack fibs and market structure.",
        img:"https://cdn.babypips.com/media/fibonacci-retracement.png", content:`Entry at 61.8% retracement + market structure HL or LH.<br>`},
      {id:7, title:"Breakout Retest", summary:"Classic: breakout, retest, go.",
        img:"https://cdn.babypips.com/media/breakout-forex.png", content:`Entry on retest after breakout from range or pattern.<br>`},
      {id:8, title:"Trendline Bounce with MACD", summary:"Confluence with indicator.",
        img:"https://www.babypips.com/assets/macd-forex-chart.png", content:`MACD cross + price bounces off trendline.<br>`},
      {id:9, title:"Supply/Demand Flip", summary:"Find fresh zones for reversals.",
        img:"https://www.babypips.com/assets/supply-demand-forex-chart.png", content:`Entry on price returning to brand new supply/demand zone.<br>`},
      {id:10, title:"SMT Divergence Snipe", summary:"ICT concept for advanced traders.",
        img:"https://cdn.tradingview.com/ict-smt.png", content:`SMT divergence at key level, enter on rejection.<br>`},
      {id:11, title:"News Breakout Fade", summary:"Trade the news spike reversal.",
        img:"https://cdn.babypips.com/media/economic-calendar.png", content:`Wait for news spike, fade the move after reversal candle.<br>`},
      {id:12, title:"Multi-Timeframe Confirmation", summary:"Align bias for sniper entries.",
        img:"https://www.tradingwithrayner.com/wp-content/uploads/2020/09/multiple-time-frame-analysis.png", content:`Bias from higher TF, entry on lower TF signal.<br>`},
      {id:13, title:"ATR Stop Loss Scalping", summary:"Use volatility for stops.",
        img:"https://cdn.babypips.com/media/stop-loss.png", content:`Set stop loss 1.5x ATR, trail as trade moves.<br>`},
      {id:14, title:"EMA Crossover Swing", summary:"Classic trend strategy.",
        img:"https://www.babypips.com/assets/moving-averages-forex-chart.png", content:`Entry on fast EMA crossing above slow EMA.<br>`},
      {id:15, title:"Head & Shoulders Pattern", summary:"Trade pattern reversals.",
        img:"https://www.tradingwithrayner.com/wp-content/uploads/2020/09/chart-patterns.png", content:`Entry after neckline break, stop above right shoulder.<br>`},
      {id:16, title:"Volume Spike Breakout", summary:"Use volume for confirmation.",
        img:"https://cdn.tradingview.com/volume-analysis.png", content:`Breakout entry with big volume spike.<br>`},
      {id:17, title:"Parabolic SAR Trend Ride", summary:"Indicator-based trend following.",
        img:"https://cdn.babypips.com/media/parabolic-sar.png", content:`Entry when dots flip, ride until opposite signal.<br>`},
      {id:18, title:"Inside Bar Breakout", summary:"Simple but powerful.",
        img:"https://www.babypips.com/assets/candlestick-patterns-forex.png", content:`Entry on break of inside bar range.<br>`},
      {id:19, title:"Range Bound Oscillator", summary:"Trade the chop.",
        img:"https://static.seekingalpha.com/uploads/2021/2/23/RSI.png", content:`RSI or Stochastics at extremes, fade reversals in range.<br>`},
      {id:20, title:"False Break Trap", summary:"Trade failed breakouts.",
        img:"https://cdn.babypips.com/media/false-break.png", content:`Short after failed high, long after failed low.<br>`}
      // Add more as needed
    ];

    const QUIZZES = [
      {
        title:"Support & Resistance / Market Structure (Easy)",
        questions:[
          {q:"What does a 'Support' level represent?", opts:["A price level where the market accelerates downward","A ceiling where price tends to reverse upward","A floor where price tends to reverse upward","A Fibonacci level"], correct:2, explain:"Support acts like a floor where buying pressure usually causes price to bounce up."},
          {q:"What pattern confirms an uptrend in market structure?", opts:["LH → LL","HH → HL","LL → HH","HL → LH"], correct:1, explain:"An uptrend forms with Higher Highs (HH) and Higher Lows (HL)."},
          {q:"What happens when price breaks a resistance level and holds above it?", opts:["Resistance becomes supply","Resistance turns into support","The trend ends","Price will fall back down immediately"], correct:1, explain:"Once broken, resistance often becomes a new support zone."}
        ]
      },
      {
        title:"Candlesticks, Patterns, and Liquidity (Medium)",
        questions:[
          {q:"Which is a bullish candlestick reversal pattern?", opts:["Shooting Star","Bearish Engulfing","Hammer","Doji (In Isolation)"], correct:2, explain:"The Hammer has a small body and long lower wick, indicating strong buy rejection from a low."},
          {q:"What is a Liquidity Grab?", opts:["A sudden breakout that continues trending","A fake breakout meant to trigger stop losses","When price hits take-profit targets","A central bank liquidity operation"], correct:1, explain:"A liquidity grab is a trap — it breaks a key level then reverses hard, hunting SLs."},
          {q:"What makes a Bearish Engulfing pattern valid?", opts:["It appears anywhere on the chart","It forms in an uptrend and the red candle is smaller","It forms after a downtrend with small wicks","It appears at resistance and the red candle completely covers the green one"], correct:3, explain:"A valid Bearish Engulfing forms at resistance and shows strong rejection."}
        ]
      },
      // Add 20+ quizzes (for brevity, only 2 shown here; expand as needed)
      {
        title:"Indicators & Strategy (Hard)",
        questions:[
          {q:"What does the 200EMA generally indicate?", opts:["Short-term bias","Long-term trend","Entry signal","Nothing"], correct:1, explain:"The 200EMA is used for long-term direction."},
          {q:"What does a MACD cross above the signal line mean?", opts:["Bullish momentum","Bearish reversal","No change","Only valid on 1m chart"], correct:0, explain:"MACD cross above signal = bullish momentum shift."},
          {q:"What is the main use of ATR?", opts:["Entry confirmation","Stop loss placement","Finding trend direction","News trading"], correct:1, explain:"ATR helps set adaptive stop losses."}
        ]
      }
    ];

    const BOOKMARKS = {lessons:[], strategies:[]}; // Use localStorage for saving user bookmarks

    // --- Section renderers ---
    const main = document.getElementById('main-content');
    function clearSections() { main.innerHTML = ""; }
    function renderTab(tab) {
      document.querySelectorAll("nav button").forEach(b=>b.classList.remove('active'));
      let btn = document.querySelector('nav button[data-tab="'+tab+'"]'); if(btn) btn.classList.add('active');
      clearSections();
      if(tab==='dashboard') renderDashboard();
      if(tab==='lessons') renderLessons();
      if(tab==='insights') renderInsights();
      if(tab==='strategies') renderStrategies();
      if(tab==='quizzes') renderQuizzes();
      if(tab==='calculator') renderCalculator();
      if(tab==='bookmarks') renderBookmarks();
      if(tab==='livedata') renderLiveData();
      if(tab==='community') renderCommunity();
      if(tab==='faq') renderFAQ();
      window.scrollTo(0,0);
    }
    function renderDashboard() {
      main.innerHTML = `
        <section class="section active">
          <h1>WELCOME TO PMT TRADING SOLUTIONS</h1>
          ${showQuote()}
          <div class="card">
          <b>Empowering You to Become the Trader You Were Meant to Be.</b><br>
          <span style="color:#eee;">Owner: ${window.PMT_BRAND.owner}</span><br>
          <span style="color:#4ade80;">Member ID: <b>${memberId||'Not logged in'}</b></span>
          </div>
          <div class="card">
            <b>Quick Start:</b>
            <ul>
              <li>Study <b>Lessons</b> – Chart Reading, Price Action, Candlesticks, SMC, Indicators, and more</li>
              <li>Try <b>Strategies</b> – Price + Indicator combos</li>
              <li>Test yourself with <b>Quizzes</b></li>
              <li>Bookmark your favorites</li>
              <li>Join the <b>Community</b> & share trade ideas</li>
            </ul>
          </div>
        </section>
      `;
    }
    function renderLessons() {
      main.innerHTML = `<section class="section active"><h1>Lessons</h1></section>`;
      const sec = main.querySelector('section');
      LESSONS.forEach(lesson => {
        sec.innerHTML += `
          <div class="card">
            <button class="bookmark-btn" onclick="toggleBookmark('lessons',${lesson.id}, this)">&#9733;</button>
            <img src="${lesson.img}" class="lesson-img" alt="${lesson.title}">
            <span class="lesson-title">${lesson.title}</span>
            <div class="lesson-summary">${lesson.summary}</div>
            <div>${lesson.content}</div>
          </div>
        `;
      });
    }
    function renderInsights() {
      main.innerHTML = `<section class="section active"><h1>Insights</h1>
        <div class="card">Paste your latest broker news/insights here!<br>
        <ul>
        <li>Stay up-to-date with live market news, NFP releases, central bank decisions, and trading tips.</li>
        <li>Use resources such as <a href="https://www.forexfactory.com/" target="_blank" style="color:var(--pmt-green);">ForexFactory</a>, <a href="https://www.dailyfx.com/" target="_blank" style="color:var(--pmt-green);">DailyFX</a>, and <a href="https://www.investing.com/news/" target="_blank" style="color:var(--pmt-green);">Investing.com News</a> for latest updates.</li>
        <li>Share your broker's calendar and insight links with the community.</li>
        </ul>
        </div>
        <div class="card">
          <b>Sample Economic Events:</b>
          <ul>
            <li>FOMC Rate Decision</li>
            <li>Non-Farm Payrolls (NFP)</li>
            <li>ECB Press Conference</li>
            <li>US CPI Inflation Release</li>
            <li>OPEC Meetings</li>
            <li>Geopolitical News (Ukraine, Oil, China etc.)</li>
          </ul>
        </div>
      </section>`;
    }
    function renderStrategies() {
      main.innerHTML = `<section class="section active"><h1>Strategies</h1></section>`;
      const sec = main.querySelector('section');
      STRATEGIES.forEach(s => {
        sec.innerHTML += `
          <div class="card">
            <button class="bookmark-btn" onclick="toggleBookmark('strategies',${s.id}, this)">&#9733;</button>
            <img src="${s.img}" class="strategy-img" alt="${s.title}">
            <span class="strategy-title">${s.title}</span>
            <div class="strategy-summary">${s.summary}</div>
            <div>${s.content}</div>
          </div>
        `;
      });
    }
    function renderQuizzes() {
      main.innerHTML = `<section class="section active"><h1>Quizzes</h1></section>`;
      const sec = main.querySelector('section');
      QUIZZES.forEach((quiz, idx) => {
        sec.innerHTML += `
          <div class="card">
            <span class="lesson-title">${quiz.title}</span>
            <button class="quiz-btn" onclick="showQuiz(${idx})">Take Quiz</button>
            <div id="quiz-${idx}" style="display:none;"></div>
          </div>
        `;
      });
    }
    function showQuiz(idx) {
      const quiz = QUIZZES[idx];
      const div = document.getElementById(`quiz-${idx}`);
      div.style.display = 'block';
      let score = 0, i = 0;
      function showQ() {
        if(i >= quiz.questions.length) {
          div.innerHTML = `<div class="calc-result">Score: ${score}/${quiz.questions.length}</div>`;
          setTimeout(()=>{div.style.display='none';}, 2200);
          return;
        }
        const q = quiz.questions[i];
        div.innerHTML = `
          <div class="quiz-q">${q.q}</div>
          ${q.opts.map((o,j)=>`<button class="quiz-btn" onclick="window.chooseQuizOpt(${j})">${o}</button>`).join('<br>')}
          <div id="quiz-feedback"></div>
        `;
      }
      window.chooseQuizOpt = function(j){
        const q = quiz.questions[i];
        document.getElementById('quiz-feedback').innerHTML = j===q.correct ? `<span class="calc-result">✅ Correct!<br>${q.explain}</span>` : `<span style="color:var(--pmt-red);">❌ Incorrect.<br>${q.explain}</span>`;
        if(j===q.correct) score++;
        setTimeout(()=>{i++;showQ();},1200);
      };
      showQ();
    }
    function renderCalculator() {
      main.innerHTML = `<section class="section active"><h1>Calculator</h1>
        <div class="card">
          <form class="calc-form" id="pos-form">
            <label>Account Equity ($):</label><input type="number" step="0.01" id="pos-balance" required>
            <label>Risk per trade (%):</label><input type="number" step="0.01" id="pos-risk" required>
            <label>Stop Loss (pips):</label><input type="number" step="0.1" id="pos-sl" required>
            <button type="submit">Calculate Lot Size & Trades</button>
            <div class="calc-result" id="pos-result"></div>
          </form>
        </div>
      </section>`;
      document.getElementById("pos-form").onsubmit = function(e){
        e.preventDefault();
        let bal = +document.getElementById("pos-balance").value;
        let risk = +document.getElementById("pos-risk").value/100;
        let sl = +document.getElementById("pos-sl").value;
        let riskAmt = bal * risk;
        let pipVal = 10; // Assume $10/pip for standard lot (Major FX)
        let lots = riskAmt / (sl * pipVal);
        let trades = Math.floor(bal / riskAmt);
        document.getElementById("pos-result").textContent = `Lot Size: ${lots.toFixed(2)} (std lots) | Max Trades: ${trades}`;
      }
    }
    function renderBookmarks() {
      main.innerHTML = `<section class="section active"><h1>Bookmarks</h1>
      <div class="card">Bookmarked lessons and strategies saved here for quick access.</div>
      </section>`;
      // (Expand with localStorage logic if desired)
    }
    function renderLiveData() {
      main.innerHTML = `<section class="section active"><h1>Live Data</h1>
        <div class="card"><b>TradingView Chart (readonly)</b><br>
        <iframe src="https://s.tradingview.com/widgetembed/?symbol=FX:EURUSD&interval=60&hidesidetoolbar=1&theme=dark&style=1" width="100%" height="350" frameborder="0"></iframe>
        </div>
        <div class="card"><b>Economic Calendar</b><br>Paste your broker's calendar here (embed/iFrame).</div>
      </section>`;
    }
    function renderCommunity() {
      main.innerHTML = `<section class="section active"><h1>Community</h1>
        <form class="calc-form" id="idea-form">
          <label>Share a trade idea or comment:</label>
          <input type="text" id="idea-user" placeholder="Name or Member ID" value="${memberId||''}">
          <textarea id="idea-txt" placeholder="Your trade idea, chart link or question"></textarea>
          <button type="submit">Post</button>
        </form>
        <div class="community-list" id="community-list"></div>
        <div class="card" style="font-size:0.95em;color:#aaf;">Keep it respectful. Learn & Grow Together.</div>
      </section>`;
      document.getElementById("idea-form").onsubmit = function(e){
        e.preventDefault();
        let u = document.getElementById("idea-user").value.trim() || "Anonymous";
        let t = document.getElementById("idea-txt").value.trim();
        if(!t) return;
        let arr = JSON.parse(localStorage.getItem("pmt_community")||"[]");
        arr.unshift({u, t, d: new Date().toLocaleString()});
        localStorage.setItem("pmt_community", JSON.stringify(arr));
        document.getElementById("idea-txt").value = "";
        renderCommunityList();
      };
      renderCommunityList();
    }
    function renderCommunityList() {
      let arr = JSON.parse(localStorage.getItem("pmt_community")||"[]");
      let html = arr.map(c=>`<div class="community-card"><b>${c.u}</b> <span style="float:right;font-size:0.93em;color:#aaa;">${c.d}</span><br>${c.t}</div>`).join('');
      document.getElementById("community-list").innerHTML = html || "<div>No ideas yet.</div>";
    }
    function renderFAQ() {
      main.innerHTML = `<section class="section active"><h1>FAQ / Contact</h1>
        <div class="card faq-q">What is PMT Trading Solutions?</div>
        <div class="faq-a">A complete, free educational and motivational trading platform for aspiring traders.</div>
        <div class="card faq-q">Is this free to use?</div>
        <div class="faq-a">Yes! All resources are free.</div>
        <div class="card faq-q">Can I get mentorship?</div>
        <div class="faq-a">Contact the owner via email/phone below for mentorship options.</div>
        <div class="card faq-q">What if I forgot my Member ID?</div>
        <div class="faq-a">Contact support for help.</div>
        <div class="card"><b>Contact:</b><br>
        Email: ${window.PMT_BRAND.contactEmail}<br>
        Phone: ${window.PMT_BRAND.contactPhone}</div>
      </section>`;
    }
    // --- Bookmarks toggle (demo, add localStorage for full) ---
    window.toggleBookmark = function(type, id, btn) {
      btn.classList.toggle('favorited');
    };
    // --- Logout ---
    function logout() {
      localStorage.removeItem("pmt_email");
      localStorage.removeItem("pmt_member_id");
      window.location.href="login.html";
    }
    // --- Initial ---
    renderTab('dashboard');
    document.getElementById('main-nav').addEventListener('click', function(e){
      if(e.target.tagName === 'BUTTON' && e.target.dataset.tab){
        renderTab(e.target.dataset.tab);
      }
    });
  </script>
</body>
</html>